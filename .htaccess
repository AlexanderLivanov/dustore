RewriteEngine On
RewriteBase /

# Перенаправляем все запросы /d/имя_разработчика на обработчик
RewriteRule ^d/([a-zA-Z0-9_-]+)/?$ dev?name=$1 [L,QSA]
# То же самое для /g/id (игры)
RewriteRule ^g/([0-9]+)/?$ game?name=$1 [L,QSA]
# И игроков 
RewriteEngine On
RewriteRule ^player/([^/]+)/?$ /player.php?username=$1 [L,QSA]

# Если файл или папка существуют, использовать их напрямую
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Скрыть расширение .php
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.php [L]

# Скрыть расширение .html (опционально)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.*)$ $1.html [L]

# Увеличение лимитов для загрузки больших файлов
php_value upload_max_filesize 1024M
php_value post_max_size 1024M
php_value max_execution_time 300
php_value max_input_time 300
php_value memory_limit 512M

# Включение прогрессивной загрузки
php_value max_file_uploads 50
php_value max_input_vars 3000

# Для chunked upload
php_value enable_post_data_reading 1